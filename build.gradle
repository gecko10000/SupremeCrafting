plugins {
    id 'java'
    id 'idea'
    id 'com.github.johnrengelman.shadow' version '7.1.0'
}

sourceSets {
    main {
        java {
            srcDir "src"
        }
        resources {
            srcDir "res"
        }
    }
}

group 'io.github.gecko10000'
version '0.1'
sourceCompatibility=16
targetCompatibility=16

repositories {
    maven { url "https://hub.spigotmc.org/nexus/content/repositories/snapshots/" }
    mavenCentral()
    maven { url "https://jitpack.io" }
    maven { url "https://repo.extendedclip.com/content/repositories/placeholderapi/" }
    maven { url "https://repo.codemc.org/repository/maven-public/" }
}

dependencies {
    compileOnly "org.spigotmc:spigot-api:1.17.1-R0.1-SNAPSHOT"
    compileOnly "com.github.Redempt:RedLib:6.2.1.2"
    compileOnly "me.clip:placeholderapi:2.10.10"
    implementation "de.tr7zw:item-nbt-api:2.8.0"
}

tasks.register("ftp") {
    dependsOn shadowJar
    doLast {
        exec {
            workingDir "../../"
            commandLine "./bin/upload.sh", "SupremeCrafting"
        }
    }
}

shadowJar {
    relocate 'de.tr7zw.changeme.nbtapi', 'gecko10000.SupremeCrafting.nbtapi'
}